webpackJsonp([8],{216:function(e,t,i){function s(e){i(555)}var a=i(5)(i(352),i(698),s,"data-v-f7d7b104",null);e.exports=a.exports},234:function(e,t,i){"use strict";t.a={fmt:function(e,t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in i)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[s]:("00"+i[s]).substr((""+i[s]).length)));return t}}},250:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(16),a=i.n(s),n=i(15),r=i.n(n);t.default={props:{item:"",type:""},data:function(){return{status:"",selected:!1,editForm:{visible:!1,form:{id:"",title:""},rules:{title:[{required:!0,message:"名称不能为空",trigger:"blur"}]}}}},methods:{showEdit:function(){this.editForm.form.id=this.item.id,this.editForm.form.title=this.item.pic_title,this.editForm.visible=!0},saveTitle:function(){var e=this,t={id:this.editForm.form.id,pic_title:this.editForm.form.title};this.$refs.editForm.validate(function(){var i=r()(a.a.mark(function i(s){var n,r;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s){i.next=10;break}return i.next=3,e.http("/picApi/modifyPicTitle",{data:t,method:"POST"});case 3:n=i.sent,r=n.data,e.$Message.success(r.msg.zh),r.code||(e.item.pic_title=t.pic_title),e.editForm.visible=!1,i.next=11;break;case 10:e.$Message.error("表单验证失败!");case 11:case"end":return i.stop()}},i,e)}));return function(e){return i.apply(this,arguments)}}())},delPic:function(e){this.$emit("del",e)},select:function(){"select"===this.status?(this.selected=!this.selected,this.selected?this.$store.commit("IMAGE_ADD",this.item):this.$store.commit("IMAGE_REMOVE",this.item)):(this.$store.commit("IMAGE_DETAIL",this.item),"background"==this.type?this.$router.push({name:"背景图库",query:{id:this.item.id,page:"back-detail"}}):"360"==this.type?this.$router.push({name:"360图库详情",query:{id:this.item.id,page:"360-detail"}}):this.$router.push({name:"产品图库详情",query:{id:this.item.id,page:"pro-detail",type:this.$route.query.type}}))},changeStatus:function(){this.status=this.$route.params.status}},created:function(){var e=this;this.status=this.$route.params.status,this.$bus.on("clearImageSelect",function(t){e.selected=!1})},watch:{$route:"changeStatus"}}},252:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{item:""},data:function(){return{status:"",selected:!1}},methods:{delPic:function(e){this.$emit("del3",e)},select:function(){"select"===this.status?(this.selected=!this.selected,this.selected?this.$store.commit("IMG_ADD_FOR_360",this.item):this.$store.commit("IMG_REMOVE_FOR_360",this.item)):this.$router.push({name:"360图库详情",params:{id:this.item.id},query:{page:"360-detail"}})}},created:function(){var e=this;this.status=this.$route.params.status,this.$bus.on("clearImageSelect",function(t){e.selected=!1})}}},253:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(84),a=i.n(s);t.default={props:{value:Boolean,files:{type:Array,default:function(){return[]}}},data:function(){return{visible:this.value}},methods:{close:function(){this.$emit("input",!1)},update:function(e,t){var i=e.name,s=!0,n=!1,r=void 0;try{for(var o,c=a()(this.files);!(s=(o=c.next()).done);s=!0){var l=o.value;if(l.name===i){l.pro=t;break}}}catch(e){n=!0,r=e}finally{try{!s&&c.return&&c.return()}finally{if(n)throw r}}},finish:function(e){var t=e.name,i=0,s=!0,n=!1,r=void 0;try{for(var o,c=a()(this.files);!(s=(o=c.next()).done);s=!0){var l=o.value;l.name===t&&(l.pro=100),100===l.pro&&i++}}catch(e){n=!0,r=e}finally{try{!s&&c.return&&c.return()}finally{if(n)throw r}}return i===this.files.length&&(this.$emit("ok"),this.close(),!0)}},watch:{value:function(e){this.visible=this.value},visible:function(){this.visible||this.$emit("input",!1)}}}},254:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(234);t.default={props:{item:null,hideplay:{type:Boolean,default:!1}},data:function(){return{playing:!1}},methods:{loadedmetadata:function(e){var t=this.$refs.video;this.item.time=s.a.fmt(new Date(1e3*t.duration),t.duration>=3600?"hh:mm:ss":"mm:ss"),this.$emit("time",this.item.time)},full:function(){var e=this.$refs.video;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},play:function(){this.playing?this.stop():(this.$refs.video.play(),this.playing=!0,this.$emit("playing",this,this.item))},stop:function(){this.$refs.video.pause(),this.playing=!1},ended:function(){this.playing=!1},onresize:function(){console.log(this.$refs.video)}}}},272:function(e,t,i){t=e.exports=i(202)(!0),t.push([e.i,".xvideo-wrapper{position:relative;background:#000}.xvideo-wrapper video{width:100%;height:100%;background-color:#000}.xstop .pv,.xvideo-wrapper:hover .pv{visibility:visible}.play-wrapper{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:50px;height:50px;border-radius:25px;cursor:pointer!important}.play-wrapper,.video-time{visibility:hidden;background-color:rgba(36,36,36,.5);position:absolute}.video-time{bottom:8px;right:12px;color:#fff;font-size:14px;padding:2px 10px;border-radius:12px;border:1px solid #bdb8b7}.play{color:#fff}","",{version:3,sources:["/Users/ouchuanyu/work/repo/zhuangbei/zbqd/src/pages/video/xvideo.vue"],names:[],mappings:"AACA,gBACI,kBAAkB,AAClB,eAAgB,CACnB,AACD,sBACI,WAAW,AACX,YAAY,AACZ,qBAAyB,CAC5B,AACD,qCACI,kBAAmB,CACtB,AACD,cAEI,SAAS,AACT,QAAQ,AACR,uCAAwC,AAChC,+BAAgC,AACxC,oBAAoB,AACpB,oBAAoB,AACpB,aAAa,AACb,wBAAwB,AACpB,qBAAqB,AACjB,uBAAuB,AAC/B,yBAAyB,AACrB,sBAAsB,AAClB,mBAAmB,AAC3B,WAAW,AACX,YAAY,AACZ,mBAAmB,AAEnB,wBAAyB,CAE5B,AACD,0BArBI,kBAAkB,AAiBlB,mCAAqC,AAErC,iBAAkB,CAarB,AAXD,YAGI,WAAW,AACX,WAAW,AACX,WAAW,AACX,eAAe,AACf,iBAAiB,AACjB,mBAAmB,AACnB,wBAAyB,CAE5B,AACD,MACI,UAAW,CACd",file:"xvideo.vue",sourcesContent:["\n.xvideo-wrapper{\n    position:relative;\n    background:#000;\n}\n.xvideo-wrapper video{\n    width:100%;\n    height:100%;\n    background-color:#000000;\n}\n.xvideo-wrapper:hover .pv, .xstop .pv{\n    visibility:visible;\n}\n.play-wrapper{\n    visibility:hidden;\n    left:50%;\n    top:50%;\n    -webkit-transform:translate(-50%, -50%);\n            transform:translate(-50%, -50%);\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n    -webkit-box-pack:center;\n        -ms-flex-pack:center;\n            justify-content:center;\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n    width:50px;\n    height:50px;\n    border-radius:25px;\n    background-color:rgba(36,36,36, 0.5);\n    cursor:pointer!important;\n    position:absolute;\n}\n.video-time{\n    position:absolute;\n    visibility:hidden;\n    bottom:8px;\n    right:12px;\n    color:#fff;\n    font-size:14px;\n    padding:2px 10px;\n    border-radius:12px;\n    border:1px solid #bdb8b7;\n    background-color:rgba(36,36,36, 0.5);\n}\n.play{\n    color:#fff;\n}\n"],sourceRoot:""}])},273:function(e,t,i){t=e.exports=i(202)(!0),t.push([e.i,".sbtn[data-v-2b01022e]{margin-right:5px}","",{version:3,sources:["/Users/ouchuanyu/work/repo/zhuangbei/zbqd/src/pages/image/components/image-item.vue"],names:[],mappings:"AACA,uBACC,gBAAkB,CAClB",file:"image-item.vue",sourcesContent:["\n.sbtn[data-v-2b01022e] {\n\tmargin-right: 5px;\n}\n"],sourceRoot:""}])},274:function(e,t,i){t=e.exports=i(202)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"item-360.vue",sourceRoot:""}])},275:function(e,t,i){t=e.exports=i(202)(!0),t.push([e.i,".xpros[data-v-ca7c14e6]{max-height:250px;overflow-y:auto}.xpro-item[data-v-ca7c14e6]{border-bottom:1px dashed #ccc;margin-bottom:10px;padding-bottom:10px}.xpro-item[data-v-ca7c14e6]:last-child{border:none}","",{version:3,sources:["/Users/ouchuanyu/work/repo/zhuangbei/zbqd/src/pages/image/progress.vue"],names:[],mappings:"AACA,wBACI,iBAAiB,AACjB,eAAgB,CACnB,AACD,4BACI,8BAA8B,AAC9B,mBAAmB,AACnB,mBAAoB,CACvB,AACD,uCACI,WAAY,CACf",file:"progress.vue",sourcesContent:["\n.xpros[data-v-ca7c14e6]{\n    max-height:250px;\n    overflow-y:auto;\n}\n.xpro-item[data-v-ca7c14e6]{\n    border-bottom:1px dashed #ccc;\n    margin-bottom:10px;\n    padding-bottom:10px;\n}\n.xpro-item[data-v-ca7c14e6]:last-child{\n    border:none;\n}\n"],sourceRoot:""}])},280:function(e,t,i){var s=i(272);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i(203)("9fc7c380",s,!0,{})},281:function(e,t,i){var s=i(273);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i(203)("862280a6",s,!0,{})},282:function(e,t,i){var s=i(274);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i(203)("8beb1762",s,!0,{})},283:function(e,t,i){var s=i(275);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i(203)("97f149c6",s,!0,{})},285:function(e,t,i){function s(e){i(281)}var a=i(5)(i(250),i(293),s,"data-v-2b01022e",null);e.exports=a.exports},287:function(e,t,i){function s(e){i(282)}var a=i(5)(i(252),i(294),s,"data-v-6d8bdb9c",null);e.exports=a.exports},288:function(e,t,i){function s(e){i(283)}var a=i(5)(i(253),i(295),s,"data-v-ca7c14e6",null);e.exports=a.exports},289:function(e,t,i){function s(e){i(280)}var a=i(5)(i(254),i(292),s,null,null);e.exports=a.exports},292:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"xvideo-wrapper",class:{xstop:!e.playing}},[i("video",{ref:"video",attrs:{src:e.server+e.item.url,preload:"metadata"},on:{loadedmetadata:function(t){e.loadedmetadata(t)},ended:e.ended,play:function(t){e.playing=!0},pause:function(t){e.playing=!1},dblclick:e.full}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideplay,expression:"!hideplay"}],staticClass:"play-wrapper pv",on:{click:e.play}},[e.playing?i("Icon",{staticClass:"play",attrs:{type:"pause",size:"30"}}):e._e(),e._v(" "),e.playing?e._e():i("Icon",{staticClass:"play",attrs:{type:"play",size:"30"}})],1),e._v(" "),e.item.time?i("div",{staticClass:"video-time pv"},[e._v("\n        "+e._s(e.item.time)+"\n    ")]):e._e()])},staticRenderFns:[]}},293:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"cursor",on:{click:e.select}},[e.selected?i("div",{staticClass:"box-mask flex center"},[i("div",[i("img",{staticClass:"share-wechat",attrs:{"data-id":e.item.id,src:"/static/icon/Symbol 37 – 1@3x.png",width:"50",alt:""}})])]):e._e(),e._v(" "),i("div",{staticClass:"img-box",style:"background-image:url("+e.server+e.item.url+")"}),e._v(" "),i("div",{staticClass:"flex space-between p-t-10"},[i("span",[e._v(e._s(e.item.pic_title))]),e._v(" "),i("div",[i("span",{staticClass:"cursor sbtn",on:{click:function(t){t.stopPropagation(),e.showEdit()}}},[i("Icon",{attrs:{type:"edit",size:"14"}})],1),e._v(" "),i("span",{staticClass:"cursor",on:{click:function(t){t.stopPropagation(),e.delPic(e.item.id)}}},[i("Icon",{attrs:{type:"ios-trash",size:"14"}})],1)])]),e._v(" "),i("Modal",{attrs:{width:"600"},on:{"on-ok":e.saveTitle},model:{value:e.editForm.visible,callback:function(t){e.$set(e.editForm,"visible",t)},expression:"editForm.visible"}},[i("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"compose"}}),e._v(" "),i("span",[e._v("修改名称")])],1),e._v(" "),i("div",{staticStyle:{"padding-right":"20px"}},[i("Form",{ref:"editForm",attrs:{model:e.editForm.form,rules:e.editForm.rules,"label-width":80}},[i("Form-item",{attrs:{label:"名称",prop:"title"}},[i("Input",{attrs:{placeholder:"名称"},on:{"on-enter":e.saveTitle},model:{value:e.editForm.form.title,callback:function(t){e.$set(e.editForm.form,"title",t)},expression:"editForm.form.title"}})],1)],1)],1)])],1)},staticRenderFns:[]}},294:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"cursor",on:{click:e.select}},[e.selected?i("div",{staticClass:"box-mask flex center"},[i("div",[i("img",{staticClass:"share-wechat",attrs:{"data-id":e.item.id,src:"/static/icon/Symbol 37 – 1@3x.png",width:"50",alt:""}})])]):e._e(),e._v(" "),i("div",{staticClass:"img-box",style:"background-image:url("+e.server+e.item.pic[0].url+")"}),e._v(" "),i("div",{staticClass:"flex space-between p-t-10"},[i("span",[e._v(e._s(e.item.title))]),e._v(" "),i("span",{staticClass:"cursor",on:{click:function(t){t.stopPropagation(),e.delPic(e.item.id)}}},[i("Icon",{attrs:{type:"ios-trash",size:"14"}})],1)])])},staticRenderFns:[]}},295:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{attrs:{title:"上传进度",closable:!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e._l(e.files,function(t){return i("div",{staticClass:"xpros"},[i("div",{staticClass:"xpro-item"},[i("Progress",{attrs:{percent:t.pro,status:"active","stroke-width":5,"hide-info":!0}}),e._v(" "),i("div",{staticClass:"flex flex-between"},[i("span",[e._v(e._s(t.name))]),e._v(" "),i("span",[e._v(e._s(parseInt(100*t.pro)/100)+"%")])])],1)])}),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],2)},staticRenderFns:[]}},350:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(16),a=i.n(s),n=i(15),r=i.n(n),o=(i(234),i(289)),c=i.n(o),l=i(288),p=i.n(l);t.default={components:{xvideo:c.a,xprogress:p.a},props:{item:"",type:""},mounted:function(){},data:function(){return{time:null,playing:!1,status:"",selected:!1,delConfirm:{title:"确定要删除吗?",visible:!1},form:{vid:null,userToken:null},title:"",editing:!1,progress:{visible:!1,files:[]}}},methods:{progressFinish:function(){this.progress.files=[]},showProgress:function(e){this.progress.files.push({name:e.name,pro:0}),this.progress.visible=!0},updateProgress:function(e,t){this.$refs.progress.update(t,e.percent)},showTitleEdit:function(){this.title=this.item.title,this.editing=!0},edit:function(){var e=this;return r()(a.a.mark(function t(){var i,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.title){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.http("/videoApi/modifyVideoGallery",{method:"POST",data:{vid:e.item.id,title:e.title}});case 4:i=t.sent,s=i.data,s.code||(e.editing=!1,e.$parent.getProductList()),e.$Message.success(s.msg.zh);case 8:case"end":return t.stop()}},t,e)}))()},uploaded:function(e,t,i){this.$refs.progress.finish(t),e.code||this.$parent.getProductList(),this.$Message.success(e.msg.zh)},beforeUpload:function(e){this.showProgress(e),this.form.vid=this.item.id,this.form.userToken=this.$store.state.user.userInfo.userToken},hideDel:function(){this.delConfirm.visible=!1},del:function(){this.delConfirm.visible=!0},doDel:function(){var e=this;return r()(a.a.mark(function t(){var i,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.delConfirm.visible=!1,t.next=3,e.http("/videoApi/delVideoGallery",{data:{vid:e.item.id},method:"POST"});case 3:i=t.sent,s=i.data,s.code||e.$parent.getProductList(),e.$Message.success(s.msg.zh);case 7:case"end":return t.stop()}},t,e)}))()},select:function(){"select"===this.status?(this.selected=!this.selected,this.selected?this.$store.commit("IMAGE_ADD",this.item):this.$store.commit("IMAGE_REMOVE",this.item)):this.$store.commit("IMAGE_DETAIL",this.item)},changeStatus:function(){this.status=this.$route.params.status},stopOthers:function(e,t){this.$emit("playing",e,t)},stop:function(){this.$refs.video.playing&&this.$refs.video.stop()},maxsize:function(){this.$refs.video.full()}},created:function(){var e=this;this.status=this.$route.params.status,this.$bus.on("clearImageSelect",function(t){e.selected=!1})},watch:{$route:"changeStatus"}}},352:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(84),a=i.n(s),n=i(16),r=i.n(n),o=i(15),c=i.n(o),l=i(285),p=i.n(l),d=i(600),u=i.n(d),A=i(287),m=i.n(A);t.default={data:function(){return{type:this.$route.query.type,status:"",selected:!1,cid:this.$route.query.cid,items:{list:[],pics:[],videos:[],paginate:{cur_page:1,page_size:40}}}},components:{Item:p.a,Item360:m.a,ItemVideo:u.a},methods:{pageSizeChange:function(e){this.items.paginate.cur_page=1,this.items.paginate.page_size=e,this.getProductList()},getPage:function(e){this.items.paginate.cur_page=e,this.getProductList()},getProductList:function(){var e=this;return c()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"360"===e.$route.query.type?e.get360PicList():"video"===e.$route.query.type?e.getVideoPicList():e.getPicList();case 1:case"end":return t.stop()}},t,e)}))()},getPicList:function(){var e=this;return c()(r.a.mark(function t(){var i,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$Spin.show(),i={pic_category_id:e.cid,cur_page:e.items.paginate.cur_page,page_size:e.items.paginate.page_size},e.cid||delete i.pic_category_id,"select"==e.$route.params.status&&(i.show_type=2),t.next=6,e.http("/picApi/getPicList",{data:i,method:"POST"});case 6:s=t.sent,a=s.data,e.$Spin.hide(),a.code&&e.items.paginate.cur_page>1?(e.items.paginate.cur_page--,e.getProductList()):a.result.pics?(a.result.paginate.cur_page=parseInt(a.result.paginate.cur_page),e.items.pics=a.result.pics,$.extend(e.items.paginate,a.result.paginate)):(e.items={list:[],pics:[],videos:[],paginate:{cur_page:1,page_size:40}},e.$Message.info(a.msg.zh));case 10:case"end":return t.stop()}},t,e)}))()},get360PicList:function(){var e=this;return c()(r.a.mark(function t(){var i,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$Spin.show(),t.next=3,e.http("/productApi/getFullScenePicProductList",{data:{cid:e.cid,cur_page:e.items.paginate.cur_page,page_size:e.items.paginate.page_size},method:"POST"});case 3:i=t.sent,s=i.data,e.$Spin.hide(),s.result.paginate&&(e.items={pics:[],list:s.result.list,videos:[],paginate:{cur_page:parseInt(s.result.paginate.cur_page),total_record:parseInt(s.result.paginate.total_record)}});case 7:case"end":return t.stop()}},t,e)}))()},getVideoPicList:function(){var e=this;return c()(r.a.mark(function t(){var i,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$Spin.show(),t.next=3,e.http("/videoApi/getVideoGalleryCategoryInfo",{data:{cid:e.cid,cur_page:e.items.paginate.cur_page,page_size:e.items.paginate.page_size},method:"POST"});case 3:i=t.sent,s=i.data,e.$Spin.hide(),s.result.paginate&&(e.items={pics:[],videos:s.result.data,list:[],paginate:{cur_page:parseInt(s.result.paginate.cur_page),total_record:parseInt(s.result.paginate.total_record)}});case 7:case"end":return t.stop()}},t,e)}))()},delPic:function(e){var t=this;return c()(r.a.mark(function i(){var s,a;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.http("/picApi/delPic",{data:{id:e},method:"POST"});case 2:s=i.sent,a=s.data,a.code?t.$Message.error(a.msg.zh):(t.getProductList(),t.$Message.success(a.msg.zh));case 5:case"end":return i.stop()}},i,t)}))()},del360Pic:function(e){var t=this;return c()(r.a.mark(function i(){var s,a;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.http("/productApi/delFullScenePicProduct",{data:{pid:e},method:"POST"});case 2:s=i.sent,a=s.data,a.code?t.$Message.error(a.msg.zh):(t.getProductList(),t.$Message.success(a.msg.zh));case 5:case"end":return i.stop()}},i,t)}))()},select:function(e){"select"===this.status&&(this.selected=!this.selected,this.selected?this.$store.commit("IMAGE_ADD",e):this.$store.commit("IMAGE_REMOVE",e))},videostop:function(e,t){var i=!0,s=!1,n=void 0;try{for(var r,o=a()(this.items.videos);!(i=(r=o.next()).done);i=!0){var c=r.value;c!==t&&this.$refs["img"+c.id][0].stop()}}catch(e){s=!0,n=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}}},created:function(){var e=this;this.$bus.on("SelectAllProduct",function(){var t=!0,i=!1,s=void 0;try{for(var n,r=a()(e.items.pics);!(t=(n=r.next()).done);t=!0){var o=n.value;e.$refs["img"+o.id][0].select()}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}console.log("selectAllProduct")}),this.$bus.on("CancelAllProduct",function(){var t=!0,i=!1,s=void 0;try{for(var n,r=a()(e.items.pics);!(t=(n=r.next()).done);t=!0){var o=n.value;e.$refs["img"+o.id][0].select()}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}console.log("cancelAllProduct")}),this.status=this.$route.params.status,this.$bus.on("clearImageSelect",function(t){e.selected=!1}),this.$bus.on("getProductImage",function(t){var i=(t.type,t.cid);e.cid=i,e.items.paginate.cur_page=1,e.getProductList()}),this.$bus.on("GET_IMAGE_LIST",function(t){var i=t.id,s=t.type;e.cid=i,e.type=s,e.items={pics:[],list:[],paginate:{cur_page:1,page_size:40}},e.getProductList()}),this.$bus.on("GET_IMAGE_360",function(t){e.cid=t,e.type="360",e.items={pics:[],list:[],paginate:{cur_page:1,page_size:40}},e.getProductList()}),this.getProductList()}}},431:function(e,t,i){t=e.exports=i(202)(!0),t.push([e.i,".video-item[data-v-61621b0e]{width:320px;background-color:#fff;margin:8px 3px}.video-wrapper.active .play-wrapper[data-v-61621b0e],.video-wrapper.active .video-time[data-v-61621b0e],.video-wrapper:hover .play-wrapper[data-v-61621b0e],.video-wrapper:hover .video-time[data-v-61621b0e]{visibility:visible}.video-wrapper[data-v-61621b0e]{height:208px;background:#2a2a2a;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}.video-wrapper>video[data-v-61621b0e]{width:100%;max-height:100%}.video-bar[data-v-61621b0e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px;padding:0 12px;font-size:16px}.video-edit[data-v-61621b0e]{color:#008eea;margin-right:6px;cursor:pointer}.video-bar>.flex[data-v-61621b0e]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.video-title[data-v-61621b0e]{color:#2a2a2a;font-size:16px;line-height:16px;vertical-align:top;max-width:200px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.play-wrapper[data-v-61621b0e]{visibility:hidden;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:50px;height:50px;border-radius:25px;background-color:rgba(36,36,36,.5);cursor:pointer!important}.play-wrapper[data-v-61621b0e],.video-time[data-v-61621b0e]{position:absolute}.video-time[data-v-61621b0e]{visibility:hidden;bottom:8px;right:12px;color:#fff;font-size:14px;padding:2px 10px;border-radius:12px;border:1px solid #bdb8b7;background-color:rgba(36,36,36,.5)}.play[data-v-61621b0e]{color:#fff}","",{version:3,sources:["/Users/ouchuanyu/work/repo/zhuangbei/zbqd/src/pages/image/components/video-item.vue"],names:[],mappings:"AACA,6BACI,YAAY,AACZ,sBAAsB,AACtB,cAAe,CAClB,AACD,8MAEI,kBAAmB,CACtB,AACD,gCACI,aAAa,AACb,mBAAmB,AACnB,kBAAmB,AACnB,oBAAoB,AACpB,oBAAoB,AACpB,YAAa,CAChB,AACD,sCACI,WAAW,AACX,eAAgB,CACnB,AACD,4BACI,oBAAoB,AACpB,oBAAoB,AACpB,aAAa,AACb,8BAA8B,AAC9B,6BAA6B,AACzB,uBAAuB,AACnB,mBAAmB,AAC3B,yBAAyB,AACrB,sBAAsB,AAClB,8BAA8B,AACtC,yBAAyB,AACrB,sBAAsB,AAClB,mBAAmB,AAC3B,YAAY,AACZ,eAAe,AACf,cAAe,CAClB,AACD,6BACI,cAAc,AACd,iBAAiB,AACjB,cAAe,CAClB,AACD,kCACI,yBAAyB,AACrB,sBAAsB,AAClB,kBAAmB,CAC9B,AACD,8BACI,cAAc,AACd,eAAe,AACf,iBAAiB,AACjB,mBAAmB,AACnB,gBAAgB,AAChB,mBAAmB,AACnB,uBAAuB,AACvB,eAAgB,CACnB,AACD,+BACI,kBAAkB,AAClB,SAAS,AACT,QAAQ,AACR,uCAAwC,AAChC,+BAAgC,AACxC,oBAAoB,AACpB,oBAAoB,AACpB,aAAa,AACb,wBAAwB,AACpB,qBAAqB,AACjB,uBAAuB,AAC/B,yBAAyB,AACrB,sBAAsB,AAClB,mBAAmB,AAC3B,WAAW,AACX,YAAY,AACZ,mBAAmB,AACnB,mCAAqC,AACrC,wBAAyB,CAC5B,AACD,4DACI,iBAAkB,CACrB,AACD,6BACI,kBAAkB,AAClB,WAAW,AACX,WAAW,AACX,WAAW,AACX,eAAe,AACf,iBAAiB,AACjB,mBAAmB,AACnB,yBAAyB,AACzB,kCAAqC,CACxC,AACD,uBACI,UAAW,CACd",file:"video-item.vue",sourcesContent:["\n.video-item[data-v-61621b0e]{\n    width:320px;\n    background-color:#fff;\n    margin:8px 3px;\n}\n.video-wrapper:hover .play-wrapper[data-v-61621b0e], .video-wrapper:hover .video-time[data-v-61621b0e],\n.video-wrapper.active .play-wrapper[data-v-61621b0e], .video-wrapper.active .video-time[data-v-61621b0e]{\n    visibility:visible;\n}\n.video-wrapper[data-v-61621b0e]{\n    height:208px;\n    background:#2a2a2a;\n    position: relative;\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n}\n.video-wrapper > video[data-v-61621b0e]{\n    width:100%;\n    max-height:100%;\n}\n.video-bar[data-v-61621b0e]{\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n    -webkit-box-orient:horizontal;\n    -webkit-box-direction:normal;\n        -ms-flex-direction:row;\n            flex-direction:row;\n    -webkit-box-pack:justify;\n        -ms-flex-pack:justify;\n            justify-content:space-between;\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n    height:48px;\n    padding:0 12px;\n    font-size:16px;\n}\n.video-edit[data-v-61621b0e]{\n    color:#008eea;\n    margin-right:6px;\n    cursor:pointer;\n}\n.video-bar > .flex[data-v-61621b0e]{\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n}\n.video-title[data-v-61621b0e]{\n    color:#2a2a2a;\n    font-size:16px;\n    line-height:16px;\n    vertical-align:top;\n    max-width:200px;\n    white-space:nowrap;\n    text-overflow:ellipsis;\n    overflow:hidden;\n}\n.play-wrapper[data-v-61621b0e]{\n    visibility:hidden;\n    left:50%;\n    top:50%;\n    -webkit-transform:translate(-50%, -50%);\n            transform:translate(-50%, -50%);\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n    -webkit-box-pack:center;\n        -ms-flex-pack:center;\n            justify-content:center;\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n    width:50px;\n    height:50px;\n    border-radius:25px;\n    background-color:rgba(36,36,36, 0.5);\n    cursor:pointer!important;\n}\n.video-time[data-v-61621b0e], .play-wrapper[data-v-61621b0e]{\n    position:absolute;\n}\n.video-time[data-v-61621b0e]{\n    visibility:hidden;\n    bottom:8px;\n    right:12px;\n    color:#fff;\n    font-size:14px;\n    padding:2px 10px;\n    border-radius:12px;\n    border:1px solid #bdb8b7;\n    background-color:rgba(36,36,36, 0.5);\n}\n.play[data-v-61621b0e]{\n    color:#fff;\n}\n"],sourceRoot:""}])},470:function(e,t,i){t=e.exports=i(202)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"list.vue",sourceRoot:""}])},516:function(e,t,i){var s=i(431);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i(203)("d02b7894",s,!0,{})},555:function(e,t,i){var s=i(470);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i(203)("721e2fb8",s,!0,{})},600:function(e,t,i){function s(e){i(516)}var a=i(5)(i(350),i(661),s,"data-v-61621b0e",null);e.exports=a.exports},661:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"cursor video-item",on:{click:e.select}},[i("xvideo",{ref:"video",staticClass:"video-wrapper",attrs:{item:e.item},on:{playing:e.stopOthers}}),e._v(" "),i("div",{staticClass:"video-bar"},[i("div",{staticClass:"flex"},[i("img",{staticStyle:{width:"14px",height:"14px","margin-right":"4px"},attrs:{src:"/static/icons/icon-edit.png"},on:{click:e.showTitleEdit}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"video-title"},[e._v(e._s(e.item.title))]),e._v(" "),i("Input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],staticClass:"shadow",attrs:{size:"small",placeholder:e.item.title},on:{"on-enter":e.edit},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),i("div",{staticClass:"flex"},[i("div",{staticStyle:{padding:"0 8px"},on:{click:e.maxsize}},[i("Icon",{staticClass:"xicon",attrs:{type:"arrow-expand",size:"18"}})],1),e._v(" "),i("img",{attrs:{src:"/static/icons/icon-delete.png",width:"14px;"},on:{click:e.del}}),e._v(" "),i("Upload",{attrs:{"on-success":e.uploaded,"before-upload":e.beforeUpload,"on-progress":e.updateProgress,"show-upload-list":!1,data:e.form,name:"fileData",action:e.api+"/videoApi/modifyVideoGallery",multiple:"",type:"select",accept:"video/*"}},[i("img",{staticStyle:{"margin-left":"8px"},attrs:{src:"/static/icons/video-update.png",width:"14px;"}})])],1)]),e._v(" "),e.delConfirm.visible?i("div",[i("Modal",{attrs:{width:"360"},model:{value:e.delConfirm.visible,callback:function(t){e.$set(e.delConfirm,"visible",t)},expression:"delConfirm.visible"}},[i("p",{attrs:{slot:"header"},slot:"header"},[e._v("\n                提示\n            ")]),e._v(" "),i("div",[i("p",[e._v(e._s(e.delConfirm.title))])]),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"default",size:"large"},on:{click:e.hideDel}},[e._v("取消")]),e._v(" "),i("Button",{ref:"cfbtn",attrs:{type:"info",size:"large"},on:{click:e.doDel}},[e._v("确定")])],1)])],1):e._e(),e._v(" "),i("xprogress",{ref:"progress",attrs:{files:e.progress.files},on:{ok:e.progressFinish},model:{value:e.progress.visible,callback:function(t){e.$set(e.progress,"visible",t)},expression:"progress.visible"}})],1)},staticRenderFns:[]}},698:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["video"===e.type?i("div",[e.items.videos&&e.items.videos.length>0?i("div",[i("ul",{staticClass:"flex",staticStyle:{"flex-wrap":"wrap","padding-bottom":"40px"}},e._l(e.items.videos,function(t,s){return i("item-video",{key:t.id,ref:"img"+t.id,refInFor:!0,attrs:{type:e.type,item:t},on:{click:function(i){e.select(t.id)},del:e.delPic,playing:e.videostop}})})),e._v(" "),i("div",{staticStyle:{position:"fixed",bottom:"20px",right:"300px"}},[i("Page",{attrs:{total:e.items.paginate.total_record,"show-total":"",placement:"top","page-size":e.items.paginate.page_size,"page-size-opts":[10,20,30,40],current:e.items.paginate.cur_page,size:"small","show-elevator":"","show-sizer":""},on:{"on-page-size-change":e.pageSizeChange,"on-change":e.getPage}})],1)]):e._e()]):"360"!==e.type?i("div",[e.items.pics.length>0?i("div",[i("ul",{staticClass:"product-list flex",staticStyle:{"padding-bottom":"50px"}},e._l(e.items.pics,function(t,s){return i("item",{key:s,ref:"img"+t.id,refInFor:!0,attrs:{type:e.type,item:t},on:{click:function(i){e.select(t.id)},del:e.delPic}})})),e._v(" "),i("div",{staticStyle:{position:"fixed",bottom:"20px",right:"300px"}},[i("Page",{attrs:{total:e.items.paginate.total_record,"show-total":"",placement:"top","page-size":e.items.paginate.page_size,"page-size-opts":[10,20,30,40],current:e.items.paginate.cur_page,size:"small","show-elevator":"","show-sizer":""},on:{"on-page-size-change":e.pageSizeChange,"on-change":e.getPage}})],1)]):e._e()]):e._e(),e._v(" "),"360"===e.type?i("div",[e.items.list.length?i("div",[i("ul",{staticClass:"product-list flex",staticStyle:{"padding-bottom":"50px"}},e._l(e.items.list,function(t,s){return i("item-360",{key:s,attrs:{item:t},on:{click:function(i){e.select(t.id)},del3:e.del360Pic}})})),e._v(" "),i("div",{staticStyle:{position:"fixed",bottom:"20px",right:"300px"}},[i("Page",{attrs:{total:e.items.paginate.total_record,"show-total":"",placement:"top","page-size":e.items.paginate.page_size,"page-size-opts":[10,20,30,40],current:e.items.paginate.cur_page,size:"small","show-elevator":"","show-sizer":""},on:{"on-page-size-change":e.pageSizeChange,"on-change":e.getPage}})],1)]):e._e()]):e._e()])},staticRenderFns:[]}}});
//# sourceMappingURL=8.de9bc19a78f1745e6ff3.js.map